<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="wc.dao.ITbCrmAnnouncementDao">
  <resultMap id="BaseResultMap" type="wc.entity.TbCrmAnnouncement">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="ID" jdbcType="DECIMAL" property="id" />
    <result column="ORDER_ID" jdbcType="DECIMAL" property="orderId" />
    <result column="USER_ID" jdbcType="DECIMAL" property="userId" />
    <result column="TITLE" jdbcType="VARCHAR" property="title" />
    <result column="CREATE_TIME" jdbcType="TIMESTAMP" property="createTime" />
    <result column="UPDATE_TIME" jdbcType="TIMESTAMP" property="updateTime" />
    <result column="COLOR" jdbcType="VARCHAR" property="color" />
    <result column="DEPARTMENT" jdbcType="VARCHAR" property="department" />
    <result column="STATUS" jdbcType="DECIMAL" property="status" />
    <result column="ISSHOW" jdbcType="DECIMAL" property="isshow" />
    <result column="CONTENT" jdbcType="CLOB" property="content" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from TB_CRM_ANNOUNCEMENT
    where ID = #{id,jdbcType=DECIMAL}
  </delete>
  <insert id="insert" parameterType="wc.entity.TbCrmAnnouncement">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into TB_CRM_ANNOUNCEMENT (ID, ORDER_ID, USER_ID, 
      TITLE, CREATE_TIME, UPDATE_TIME, 
      COLOR, DEPARTMENT, STATUS, 
      ISSHOW, CONTENT)
    values (TB_CRM_ANNOUNCEMENT_id.nextval, #{orderId,jdbcType=DECIMAL}, #{userId,jdbcType=DECIMAL}, 
      #{title,jdbcType=VARCHAR}, to_date(#{createTime},'yyyy-MM-dd HH24:mi:ss'), to_date(#{updateTime},'yyyy-MM-dd HH24:mi:ss'), 
      #{color,jdbcType=VARCHAR}, #{department,jdbcType=VARCHAR}, #{status,jdbcType=DECIMAL}, 
      #{isshow,jdbcType=DECIMAL}, #{content,jdbcType=CLOB})
  </insert>
  <update id="updateByPrimaryKey" parameterType="wc.entity.TbCrmAnnouncement">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update TB_CRM_ANNOUNCEMENT
    set ORDER_ID = #{orderId,jdbcType=DECIMAL},
      USER_ID = #{userId,jdbcType=DECIMAL},
      TITLE = #{title,jdbcType=VARCHAR},
      CREATE_TIME = to_date(#{createTime},'yyyy-MM-dd HH24:mi:ss'),
      UPDATE_TIME = to_date(#{updateTime},'yyyy-MM-dd HH24:mi:ss'),
      COLOR = #{color,jdbcType=VARCHAR},
      DEPARTMENT = #{department,jdbcType=VARCHAR},
      STATUS = #{status,jdbcType=DECIMAL},
      ISSHOW = #{isshow,jdbcType=DECIMAL},
      CONTENT = #{content,jdbcType=CLOB}
    where ID = #{id,jdbcType=DECIMAL}
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select ID, ORDER_ID, USER_ID, TITLE, CREATE_TIME, UPDATE_TIME, COLOR, DEPARTMENT, 
    STATUS, ISSHOW, CONTENT
    from TB_CRM_ANNOUNCEMENT
    where ID = #{id,jdbcType=DECIMAL}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select ID, ORDER_ID, USER_ID, TITLE, CREATE_TIME, UPDATE_TIME, COLOR, DEPARTMENT, 
    STATUS, ISSHOW, CONTENT
    from TB_CRM_ANNOUNCEMENT
  </select>
  <!-- 公告分页查询 -->
  <select id="findByPage" resultMap="BaseResultMap">
  select * from 
  	(select tca.*,rownum rn  from (select * from TB_CRM_ANNOUNCEMENT) tca 
  	where rownum &lt; #{endNo}) 
  	where rn &gt; #{startNo}
  </select>
  <!-- 公告分页查询total -->
  <select id="findTotal" resultType="int">
  select count(*) from TB_CRM_ANNOUNCEMENT
  	
  </select>
  <!-- 公告分页查询(模糊查询) -->
  <select id="findByTitlePage" resultMap="BaseResultMap">
	 select * from 
	 (select tca.*,rownum rn  from 
	 (select * from TB_CRM_ANNOUNCEMENT where TITLE like '%' || #{title} || '%') tca 
  	 where rownum &lt; #{endNo}) 
  	 where rn &gt; #{startNo}
  </select>
  <!-- 公告分页查询total(模糊查询) -->
  <select id="findByTitleTotal" resultType="int">
  select count(*) from TB_CRM_ANNOUNCEMENT where TITLE like '%' || #{title} || '%'
  	
  </select>
</mapper>